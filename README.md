# vector

* Владеет всеми находящимися внутри элементами
* Все элементы хранятся в памяти подряд
* Все операции предоставляют максимально возможную гарантию исключений
* Но считаем, что операции над `T` не бросают исключений
* Делаем минимально возможное количество выделений памяти и операций с `T`

#### Гарантии над T

Обязательно: `MoveConstructible`, `MoveAssignable`, `Destructible`.

Также тип `T` может удовлетворять подмножеству `DefaultConstructible`, `CopyConstructible`, `CopyAssignable`

### Операции

| Пример | Описание | Когда доступна | Время работы |
| --- | --- | --- | --- |
| `vector v;` | Создаёт пустой `vector` | Всегда | `O(1)` |
| `vector v(n);` | Создаёт `vector` из `n` элементов | `T` — `DefaultConstructible` | `O(n)` |
| `vector v(n, t);` | Создаёт `vector` из `n` элементов-копий `t` | `T` — `CopyConstructible` | `O(n)` |
| `vector v2 = v;` | Копирует `v` в `v2` | `T` — `CopyConstructible` | `O(n)` |
| `vector v2 = std::move(v);` | Перемещает `v` в `v2`, `v` становится пустым | Всегда | `O(1)` |
| `v2 = v;` | Копирует `v` в `v2` | `T` — и `CopyConstructible`, и `CopyAssignable` | `O(n + m)` |
| `v2 = std::move(v);` | Перемещает `v` в `v2`, `v` становится пустым | Всегда | `O(m)` |
| `v.empty()` | Возвращает `true` если и только если вектор пуст | Всегда | `O(1)` |
| `v.size()` | Возвращает количество элементов | Всегда | `O(1)` |
| `v.capacity()` | Возвращает объём внутреннего буфера | Всегда | `O(1)` |
| `v[k]` | Обращение к `k`-у элементу | Всегда | `O(1)` |
| `v.at(k)` | Обращение к `k`-у элементу, выкидывает `std::out_of_range` при обращении за границы | Всегда | `O(1)` |
| `v.reserve(k)` | Делает `capacity()` равным или большим `k` | Всегда | `O(n)` |
| `v.push_back(t);` | Копирование элемента в конец | `T` — `CopyConstructible` | `O(1)` (амортизированно) |
| `v.push_back(T());` | Перемещение элемента в конец | Всегда | `O(1)` (амортизированно) |
| `v.pop_back();` | Удаление элемента с конца | Всегда | `O(1)` |
| `v.resize(k);` | Удаляет элементы с конца вектора или добавляет сконструированные по умолчанию в конец | `T` — `DefaultConstructible` | `O(\|k - n\|)` (амортизированно) |
| `v.resize(k, t);` | Удаляет элементы с конца вектора или добавляет копии `t` в конец | `T` — `CopyConstructible` | `O(\|k - n\|)` (амортизированно) |
| `v.clear();` | Удаление всех элементов | Всегда | `O(n)` |
| `}` | Деструктор | Всегда | `O(n)` |
